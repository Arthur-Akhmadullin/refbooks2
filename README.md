# Тестовое задание. Медицинский справочник. Реализация REST API
---

## Описание проекта
В проекте реализовано API для работы со следующими объектами: справочник, версия справочника, элемент справочника. 

API предоставляет следующие методы:<br>
***1) Получение списка справочников***<br>
Метод: api/refbooks/[?date=\<date>] <br>
Тип запроса HTTP: GET <br>
***2) Получение элементов заданного справочника***<br>
Метод: api/refbooks/\<id>/elements[?version=\<version>] <br>
Тип запроса HTTP: GET <br>
***3) Валидация элементов***<br>
Метод: api/refbooks/\<id>/check_element?code=\<code>&value=\<value>[&version=\<version>] <br>
Тип запроса HTTP: GET <br>

---

## Как установить проект
1) Создайте копию проекта командой `git clone https://github.com/Arthur-Akhmadullin/refbooks2.git`. Копия будет помещена в папку "refbooks2".
2) Перейдите в папку "refbooks2", выполнив в командной строке: `cd refbooks2`. 
3) Создайте виртуальное окружение, выполнив команду `python -m venv <название-вашего-виртуального-окружения>`.
4) Активируйте виртуальное окружение, выполнив команду `<название-вашего-виртуального-окружения>\Scripts\activate` (Windows) или `. <название-вашего-виртуального-окружения>/bin/activate` (Linux).
5) Далее необходимо установить библиотеки, используемые в проекте. Последовательно выполните команды: `python -m pip install`, `pip install -r requirements.txt`. Будут установлены библиотеки, указанные в файле requirements.txt.
6) В папке refbooks2 создайте файл ".env", в котором пропишите переменную SECRET_KEY: SECRET_KEY = "сгенерированный ключ". Сгенерировать секретный ключ можно на сайте [djecrety.ir](https://djecrety.ir).
7) Создайте базу данных, выполнив миграции командой: `python manage.py migrate`
8) Создайте профиль суперпользователя (администратора): `python manage.py createsuperuser`
9) Заполните базу данных тестовыми данными. При желании вы можете установить тестовую базу данных из файла refbooks.json, выполнив команду `python manage.py loaddata refbooks.json`. Тестовая база данных не содержит сведений о пользователях.
---

## Проверка API
Проверку API-методов можно провести двумя способами:
1) используя функционал Django REST framework, обратившись по указанным в блоке "Описание проекта" url-адресам (при необходимости передавая path-параметры);
2) отправляя GET-запросы по указанным адресам через Swagger. Для этого перейдите по адресу {домен}/swagger/, например, localhost/swagger/. На этой странице выберите нужный метод, нажмите "Try it out", при необходимости заполните path-параметры, нажмите "Execute". Результат запроса появится в блоках "Responses" и "Code".
